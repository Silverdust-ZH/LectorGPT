// -----------------------------------------------------------------------------
// Author:  Samuel LÃ¶rtscher
// Date:    29 December 2025
// Project: LectorGPT (LaTeX inline text refinement powered by OpenAI models)
// -----------------------------------------------------------------------------

{
    "name": "lectorgpt",
    "image": "mcr.microsoft.com/devcontainers/javascript-node@sha256:057420fd689c0bdc950821bca6f3051a5e92329c208bfeb5f72e2263ca285662",
    "workspaceFolder": "/workspaces/lectorgpt",
    "workspaceMount": "source=${localWorkspaceFolder},target=/workspaces/lectorgpt,type=bind",
    "remoteUser": "node",
    "postCreateCommand": "sudo npm i -g npm@11.10.0 && npm i",
    "postStartCommand": "sudo mkdir -p /run/dbus && (pgrep -x dbus-daemon >/dev/null || sudo dbus-daemon --system --fork --nopidfile)",
    "features": {
        "ghcr.io/devcontainers/features/git:1": {},
        "ghcr.io/devcontainers/features/common-utils:2": {},
        "ghcr.io/rocker-org/devcontainer-features/apt-packages:1": {
            "packages": [
                "libnspr4",
                "libnss3",
                "libdbus-1-3",
                "libatk1.0-0",
                "libatk-bridge2.0-0",
                "libgtk-3-0",
                "libgbm1",
                "libasound2",
                "xvfb",
                "xauth"
            ]
        },
        "./features/bash-aliases": {}
    },
    "customizations": {
        "vscode": {
            "extensions": [
                "jinchanghyeok.explorer-sort",
                "jeff-hykin.better-dockerfile-syntax",
                "aaron-bond.better-comments",
                "dnut.rewrap-revived",
                "dbaeumer.vscode-eslint",
                "esbenp.prettier-vscode",
                "ms-vscode.vscode-typescript-next",
                "lenagain.latexindent",
                "ms-vscode.extension-test-runner",
                "ritwickdey.liveserver"
            ]
        }
    }
}
